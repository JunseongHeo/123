---
layout: single
title: java Compile 개념
categories: java
# git, study, diary, java, toDolist, cooking, plan, html, academy, html/css, JSP
tag: [java] 
---

#

[컴파일러와 인터프리터의 차이점](https://jins-dev.tistory.com/222)

프로그래밍언어를 runtime 이전에 기계어로 해석하는 작업방식
- runtime 이전에 Assembly언어로 변환(컴파일)하는 시간이 추가소요
- 구동시 코드와 함께 시스템으로부터 메모리를 할당받아 사용
- runtime 이전에 컴파일 결과물이 기계어로 전환되므로 OS 및 빌드환경에 종속적

https://needneo.tistory.com/208

https://boyboy94.tistory.com/20

https://pienguin.tistory.com/entry/JAVA-%EC%9E%90%EB%B0%94-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%8B%A4%ED%96%89-%EA%B3%BC%EC%A0%95-%EB%B0%8F-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%A1%B0

https://jooona.tistory.com/157


### 컴파일의 개념 및 컴파일 과정 상세 설명

[컴파일에 대한 이해](https://bradbury.tistory.com/226)

#### 컴파일 개념

컴파일은 인간이 이해할 수 있는 언어로 작성된 소스코드(프로그래밍언어:고급언어)를 컴퓨터가 이해할 수 있는 언어(저수준언어:기계어)로 번역(변환)하는 작업이다.

소스 코드는 컴파일을 통해 기계어로 이루어진 실행 파일이 된다. 

이 파일을 실행하면 실행 파일 내용이 운영체제의 Loader를 통해 메모리에 적재되어 프로그램이 동작한다.

#### 컴파일 과정 (전처리 - 컴파일 - 어셈블리 - 링킹)

4단계를 묶어 컴파일 과정, 빌드 과정이라고 부르기도하고
컴파일 과정과 링킹 과정을 따로 나눠서 부르기도 한다.
보통 빌드 과정은 컴파일 과정보다 넓은 의미(빌드=컴파일+링킹로 사용되는데 상황에 맞게 이해하면 된다.

1. 전처리(Pre-processing) 과정

전처리기(Preprocessor)를 통해 소스코드 파일( *.c )을 전처리된 소스코드파일( *.i )로 변환하는 과정이다.

대표적으로 3가지 작업을 수행한다.

1) 주석 제거
2) 헤더 파일 삽입 : #include 지시문을 만나면 해당하는 헤더파일을 찾아 헤더파일에 있는 모든 내용을 복사해서 소스코드에 삽입한다.
3) 매크로 치환 및 적용 : #define 지시문에 정의된 매크로를 저장하고 같은 문자열을 만나면 #define된 내용으로 치환한다.


2. 컴파일(Compilation) 과정

컴파일러(Compiler)가 전처리된 소스 코드 파일( *.i )을 어셈블리어 파일( *.s )로 변환한다. 
**언어의 문법검사** 및 **Static 영역의 메모리 할당**을 수행한다.

컴파일러는 3단계(프론트엔드-미들엔드-백엔드)로 구성되어있다.
1) 프론트엔드 : 언어 종속적인 부분을 처리한다. 소스코드가 해당 언어로 올바르게 작성되었는지 문법검사를 하고 미들엔드에 넘겨주기 위한 GIMPLE트리(소스코드를 트리형태로 표현한 자료구조)를 생성한다.
2) 미들엔드 : 아키텍쳐 비종속적인 최적화를 수행. 이후 백엔드에서 사용하는 RTL(고급언어와 어셈블리어의 중간 형태)을 생성
3) 백엔드 : 아키텍쳐 종속적인 최적화를 수행. 최적화가 완료되면 어셈블리 코드를 생성.

3. 어셈블리(Assembly) 과정

어셈블러(Assembler)를 통해 어셈블리어 파일( *.s )을 오브젝트 파일( *.o )로 변환하는 과정이다.
기계어==오브젝트코드로 구성된 파일을 오브젝트 파일이라 부르며, 오브젝트파일은 특정한 파일포멧(윈도우는 PE(Portable Executable), 리눅스는 ELF(Executable and Linking Format))을 가진다.